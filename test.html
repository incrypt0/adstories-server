<!DOCTYPE html>
<html>
  <body>
    <p>Image to use:</p>

    <img
      id="scream"
      width="400"
      height="600"
      src="/public/images/poster.jpg"
      alt="The Scream"
    />
<a href="" id="down" download="sasi.png">Download</a>
    <p>Canvas:</p>

    <canvas
      id="myCanvas"
      width="400"
      height="600"
      style="border: 1px solid #d3d3d3;display: none;"

    >
      Your browser does not support the HTML5 canvas tag.
    </canvas>

    <script>
      var drawey = () => {
        var canvas = document.getElementById("myCanvas");
        var ctx = canvas.getContext("2d");
        var img = document.getElementById("scream");
        var x = document.getElementById("hi");
        ctx.drawImage(img, 0, 0, img.width, img.height);
        ctx.fillStyle = "white";
        ctx.fillText("HIIIIII",10,10);
        x=document.getElementById("down")
        x.addEventListener("click",(e)=>{
         
          var dataurl =canvas.toDataURL("image/png");
          console.log(dataurl)
          x.href=dataurl
      })
      };
      
      window.onload =drawey
    </script>
  </body>
</html>
